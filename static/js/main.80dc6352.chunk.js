(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(23),c=n.n(i),s=(n(73),n(43)),l=n(32),u=n(31),d=n.n(u),f=n(41),v=n.n(f),m=n(66),w=n.n(m),h=(n(74),n(30)),g=n(67),k=n.n(g),p=1500,b=300,y="start_task",S="start_break";var E=function(){var e=Object(o.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(o.useState)(!1),u=Object(l.a)(c,2),f=u[0],m=u[1],g=Object(o.useState)(p),E=Object(l.a)(g,2),j=E[0],O=E[1],T=Object(h.b)().t;"serviceWorker"in window.navigator&&window.navigator.serviceWorker.addEventListener("message",function(e){I(!n)}),Object(o.useEffect)(function(){return Notification.requestPermission(),function(){clearInterval(a)}},[]);var W=function(e){clearInterval(a),m(!1),O(e?p:b)},I=function(e){m(!0);var t=new Date;t.setSeconds(t.getSeconds()+j),clearInterval(a),a=setInterval(function(){var n=t-Date.now();if(n<=0)i(e),W(e),function(e){var t={vibrate:[300,50,300],requireInteraction:!0,renotify:!0,tag:"pomodoro",title:"",lang:"en-US"};t=e?Object(s.a)({},t,{title:"Pomodoro done",body:"Phew! Time for a break.",actions:[{action:S,title:"Start Break"}]}):Object(s.a)({},t,{title:"Ready for next pomodoro",body:"Break's over, back to work!",actions:[{action:y,title:"Start Task"}]}),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(function(e){e.showNotification(t.title,t)})}(!e);else{var a=Math.floor(n/1e3);a!==j&&O(a)}},100)};return r.a.createElement(v.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",className:"outerGrid"},r.a.createElement(v.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("h1",{className:"title"},"Pomodoro"),r.a.createElement("h1",null,Math.floor(j/60).toString().padStart(2,"0"),":",(j%60).toString().padStart(2,"0")),r.a.createElement(d.a,{onClick:function(){return I(!n)},disabled:f,color:"primary",variant:"contained",autoFocus:!0},T(n?"Start Task":"Start Break")),r.a.createElement(d.a,{onClick:function(){return W(n)}},T("Reset")),r.a.createElement(w.a,{control:r.a.createElement(k.a,{checked:n,onChange:function(e){i(e.target.checked),W(e.target.checked)},disabled:f,color:"primary"}),label:T("On Task")})),r.a.createElement(d.a,{href:"https://twitter.com/turnrye"},"@turnrye"))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var T=n(29),W=Object(T.createMuiTheme)({palette:{primary:{main:"#ff6347"}},themeName:"Persimmon Razzmatazz Cats",typography:{useNextVariants:!0}}),I=n(42);I.a.use(h.a).init({resources:{en:{translation:{Reset:"Reset","Start Task":"Start Task","Start Break":"Start Break","On Task":"On Task"}}},lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});I.a;c.a.render(r.a.createElement(T.MuiThemeProvider,{theme:W},r.a.createElement(E,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");j?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):O(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):O(t,e)})}}()},68:function(e,t,n){e.exports=n(170)},73:function(e,t,n){},74:function(e,t,n){}},[[68,1,2]]]);
//# sourceMappingURL=main.80dc6352.chunk.js.map